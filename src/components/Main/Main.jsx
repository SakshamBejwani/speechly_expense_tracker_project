import React, { useState, useEffect, useContext } from 'react';
import { Card, CardHeader, CardContent, Typography, Grid, Divider } from '@material-ui/core';
import { useSpeechContext } from '@speechly/react-client';
import { ExpenseTrackerContext } from '../../context/context';
import useStyles from './styles';
import Form from './Form/Form';
import List from './List/List';
import InfoCard from '../InfoCard';
import styled from 'styled-components'
const ExpenseTracker = () => {
  const classes = useStyles();
  const { balance } = useContext(ExpenseTrackerContext);

  return (
    <Card className={classes.root}>
      <CardHeaderTitle>
        <div>
        <svg width="227" height="40" viewBox="0 0 512 90" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.704545 70L12.2955 0.181816H59.3409L57.2955 12.3523H25.0114L22.2841 28.9886H52.1477L50.1023 41.1591H20.2386L17.5114 57.8295H49.9318L47.8864 70H0.704545ZM80.0767 17.6364L86.6222 35.9432L99.5426 17.6364H114.44L94.9062 43.8182L106.122 70H91.2926L83.9631 51.8977L70.804 70H55.804L75.7131 43.8182L65.0767 17.6364H80.0767ZM111.168 89.6364L123.236 17.6364H137.554L136.088 26.4318H136.736C137.599 25.0227 138.747 23.5909 140.179 22.1364C141.634 20.6591 143.44 19.4318 145.599 18.4545C147.759 17.4545 150.293 16.9545 153.202 16.9545C157.043 16.9545 160.395 17.9545 163.259 19.9545C166.122 21.9318 168.19 24.9205 169.463 28.9205C170.759 32.8977 170.906 37.8864 169.906 43.8864C168.952 49.7273 167.19 54.6591 164.622 58.6818C162.077 62.6818 159.02 65.7159 155.452 67.7841C151.906 69.8295 148.145 70.8523 144.168 70.8523C141.349 70.8523 139.031 70.3864 137.213 69.4545C135.418 68.5227 134.02 67.3523 133.02 65.9432C132.02 64.5114 131.315 63.0682 130.906 61.6136H130.361L125.724 89.6364H111.168ZM133.088 43.8182C132.588 46.9318 132.565 49.6477 133.02 51.9659C133.497 54.2841 134.452 56.0909 135.884 57.3864C137.315 58.6591 139.202 59.2955 141.543 59.2955C143.906 59.2955 146.009 58.6477 147.849 57.3523C149.69 56.0341 151.224 54.2159 152.452 51.8977C153.679 49.5568 154.554 46.8636 155.077 43.8182C155.554 40.7955 155.565 38.1364 155.111 35.8409C154.656 33.5455 153.724 31.75 152.315 30.4545C150.906 29.1591 148.997 28.5114 146.588 28.5114C144.247 28.5114 142.145 29.1364 140.281 30.3864C138.44 31.6364 136.906 33.4091 135.679 35.7045C134.452 38 133.588 40.7045 133.088 43.8182ZM198.909 71.0227C193.545 71.0227 189.102 69.9318 185.58 67.75C182.057 65.5455 179.58 62.4318 178.148 58.4091C176.739 54.3636 176.5 49.5795 177.432 44.0568C178.341 38.6705 180.17 33.9432 182.92 29.875C185.693 25.8068 189.17 22.6364 193.352 20.3636C197.534 18.0909 202.193 16.9545 207.33 16.9545C210.784 16.9545 213.909 17.5114 216.705 18.625C219.523 19.7159 221.864 21.375 223.727 23.6023C225.591 25.8068 226.864 28.5682 227.545 31.8864C228.25 35.2045 228.239 39.0909 227.511 43.5455L226.864 47.5341H182.682L184.08 38.5341H214.625C214.966 36.4432 214.83 34.5909 214.216 32.9773C213.602 31.3636 212.58 30.1023 211.148 29.1932C209.716 28.2614 207.955 27.7955 205.864 27.7955C203.727 27.7955 201.727 28.3182 199.864 29.3636C198 30.4091 196.432 31.7841 195.159 33.4886C193.909 35.1705 193.102 37 192.739 38.9773L191.136 47.9091C190.682 50.6591 190.773 52.9432 191.409 54.7614C192.068 56.5795 193.205 57.9432 194.818 58.8523C196.432 59.7386 198.477 60.1818 200.955 60.1818C202.568 60.1818 204.08 59.9545 205.489 59.5C206.92 59.0455 208.193 58.375 209.307 57.4886C210.42 56.5795 211.33 55.4545 212.034 54.1136L225.295 55C224.068 58.2273 222.205 61.0455 219.705 63.4545C217.205 65.8409 214.193 67.7045 210.67 69.0455C207.17 70.3636 203.25 71.0227 198.909 71.0227ZM252.287 39.7273L247.241 70H232.753L241.48 17.6364H255.287L253.787 26.875H254.366C256.026 23.8068 258.366 21.3864 261.389 19.6136C264.435 17.8409 267.901 16.9545 271.787 16.9545C275.423 16.9545 278.457 17.75 280.889 19.3409C283.344 20.9318 285.071 23.1932 286.071 26.125C287.094 29.0568 287.264 32.5682 286.582 36.6591L280.991 70H266.469L271.616 39.25C272.139 36.0455 271.73 33.5455 270.389 31.75C269.071 29.9318 266.946 29.0227 264.014 29.0227C262.06 29.0227 260.264 29.4432 258.628 30.2841C256.991 31.125 255.616 32.3523 254.503 33.9659C253.412 35.5568 252.673 37.4773 252.287 39.7273ZM342.108 32.5682L328.915 33.3864C328.847 32.2273 328.528 31.1932 327.96 30.2841C327.415 29.3523 326.608 28.6136 325.54 28.0682C324.494 27.5227 323.176 27.25 321.585 27.25C319.199 27.25 317.074 27.7955 315.21 28.8864C313.347 29.9773 312.29 31.375 312.04 33.0795C311.835 34.1705 312.119 35.0909 312.892 35.8409C313.665 36.5909 315.222 37.2273 317.562 37.75L326.767 39.6591C331.676 40.7045 335.222 42.4432 337.403 44.875C339.608 47.3068 340.392 50.4886 339.756 54.4205C339.188 57.7614 337.722 60.6818 335.358 63.1818C332.994 65.6591 329.994 67.5909 326.358 68.9773C322.722 70.3409 318.688 71.0227 314.256 71.0227C307.142 71.0227 301.733 69.5682 298.028 66.6591C294.324 63.75 292.54 59.8068 292.676 54.8295L306.858 54.0795C306.972 56.2159 307.722 57.8295 309.108 58.9205C310.494 59.9886 312.392 60.5341 314.801 60.5568C317.506 60.6023 319.801 60.0455 321.688 58.8864C323.597 57.7045 324.676 56.2727 324.926 54.5909C325.108 53.4091 324.767 52.4545 323.903 51.7273C323.063 51 321.517 50.3977 319.267 49.9205L310.54 48.1136C305.585 47.0909 302.028 45.2614 299.869 42.625C297.71 39.9886 296.972 36.6364 297.653 32.5682C298.199 29.3182 299.551 26.5341 301.71 24.2159C303.892 21.875 306.699 20.0795 310.131 18.8295C313.585 17.5795 317.483 16.9545 321.824 16.9545C328.619 16.9545 333.733 18.3523 337.165 21.1477C340.619 23.9432 342.267 27.75 342.108 32.5682ZM370.003 71.0227C364.639 71.0227 360.196 69.9318 356.673 67.75C353.151 65.5455 350.673 62.4318 349.241 58.4091C347.832 54.3636 347.594 49.5795 348.526 44.0568C349.435 38.6705 351.264 33.9432 354.014 29.875C356.787 25.8068 360.264 22.6364 364.446 20.3636C368.628 18.0909 373.287 16.9545 378.423 16.9545C381.878 16.9545 385.003 17.5114 387.798 18.625C390.616 19.7159 392.957 21.375 394.821 23.6023C396.685 25.8068 397.957 28.5682 398.639 31.8864C399.344 35.2045 399.332 39.0909 398.605 43.5455L397.957 47.5341H353.776L355.173 38.5341H385.719C386.06 36.4432 385.923 34.5909 385.31 32.9773C384.696 31.3636 383.673 30.1023 382.241 29.1932C380.81 28.2614 379.048 27.7955 376.957 27.7955C374.821 27.7955 372.821 28.3182 370.957 29.3636C369.094 30.4091 367.526 31.7841 366.253 33.4886C365.003 35.1705 364.196 37 363.832 38.9773L362.23 47.9091C361.776 50.6591 361.866 52.9432 362.503 54.7614C363.162 56.5795 364.298 57.9432 365.912 58.8523C367.526 59.7386 369.571 60.1818 372.048 60.1818C373.662 60.1818 375.173 59.9545 376.582 59.5C378.014 59.0455 379.287 58.375 380.401 57.4886C381.514 56.5795 382.423 55.4545 383.128 54.1136L396.389 55C395.162 58.2273 393.298 61.0455 390.798 63.4545C388.298 65.8409 385.287 67.7045 381.764 69.0455C378.264 70.3636 374.344 71.0227 370.003 71.0227Z" fill="#FF0909"/>
<path d="M416.597 70.8864C414.347 70.8864 412.415 70.0909 410.801 68.5C409.21 66.8864 408.415 64.9545 408.415 62.7045C408.415 60.4773 409.21 58.5682 410.801 56.9773C412.415 55.3864 414.347 54.5909 416.597 54.5909C418.778 54.5909 420.688 55.3864 422.324 56.9773C423.96 58.5682 424.778 60.4773 424.778 62.7045C424.778 64.2045 424.392 65.5795 423.619 66.8295C422.869 68.0568 421.881 69.0455 420.653 69.7955C419.426 70.5227 418.074 70.8864 416.597 70.8864ZM451.224 0.181816V70H436.702V0.181816H451.224ZM471.824 89.6364C469.983 89.6364 468.256 89.4886 466.642 89.1932C465.051 88.9205 463.733 88.5682 462.688 88.1364L465.96 77.2955C467.665 77.8182 469.199 78.1023 470.562 78.1477C471.949 78.1932 473.142 77.875 474.142 77.1932C475.165 76.5114 475.994 75.3523 476.631 73.7159L477.483 71.5L458.699 17.6364H473.972L484.812 56.0909H485.358L496.301 17.6364H511.676L491.324 75.6591C490.347 78.4773 489.017 80.9318 487.335 83.0227C485.676 85.1364 483.574 86.7614 481.028 87.8977C478.483 89.0568 475.415 89.6364 471.824 89.6364Z" fill="#0EA71D"/>
</svg>


        </div>
      </CardHeaderTitle>
      <CardContent>
        <Typography align="center" variant="h5">Total Balance â‚¹{balance}</Typography>
        <Typography variant="subtitle1" style={{ lineHeight: '1.5em', marginTop: '20px' }}>
          {/* <InfoCard /> */}
        </Typography>
        <Divider className={classes.divider} />
        <Form />
      </CardContent>
      <CardContent className={classes.cartContent}>
        <Grid container spacing={2}>
          <Grid item xs={12}>
            <List />
          </Grid>
        </Grid>
      </CardContent>
    </Card>
  );
};

export default ExpenseTracker;

const CardHeaderTitle = styled.div`
  max-width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-top: 20px;
`